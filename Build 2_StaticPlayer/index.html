<meta name="monetization" content="$twitter.xrptipbot.com/remvst"><title>[SWAGSHOT]</title><style>/* *{margin:0;width:100%;height:100%;image-rendering:optimizeSpeed;background:#000;position:relative}#t{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#g{display:block} */</style><div id="t"><canvas id="g"></canvas></div><script src="//game-cdn.poki.com/scripts/v2/poki-sdk.js"></script><script>function revertOptimizeMatrix(t,e,s){const r=[];for(let s=0;s<t;s++){const t=[];t.length=e,r.push(t)}return s.forEach(t=>{let[e,s,i,a]=t,n=!!i,l=!!a;for(let t=0;t<max(i,a);t++)r[e+t*n][s+t*l]=1}),r}let R,G,W,P,w=window,onMenu=1,CANVAS=g;limit=((t,e,s)=>e<t?t:e>s?s:e),between=((t,e,s)=>e>=t&&e<=s),rnd=((t,e)=>random()*(e-t)+t),pick=(t=>t[~~(random()*t.length)]),distP=((t,e,s,r)=>sqrt(pow(t-s,2)+pow(e-r,2))),dist=((t,e)=>distP(t.x,t.y,e.x,e.y)),normalize=(t=>moduloWithNegative(t,PI)),angleBetween=((t,e)=>atan2(e.y-t.y,e.x-t.x));let math=Math;Object.getOwnPropertyNames(math).forEach(t=>w[t]=w[t]||math[t]),TWO_PI=2*PI;let canvasProto=CanvasRenderingContext2D.prototype;canvasProto.wrap=function(t){this.save(),t(),this.restore()},canvasProto.fr=canvasProto.fillRect,canvasProto.fs=function(t){this.fillStyle=t},onresize=(()=>{var e,s,r=innerWidth,i=innerHeight,a=r/i,n=t.style;a<=2?s=(e=r)/2:e=2*(s=i),n.width=e+"px",n.height=s+"px"}),linear=((t,e,s,r)=>t/r*s+e),easeOutBounce=((t,e,s,r)=>(t/=r)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e),easeInCubic=((t,e,s,r)=>s*(t/=r)*t*t+e),interp=((t,e,s,r,i,a,n,l)=>{var o={o:t,p:e,a:s,b:r,d:i,l:a||0,f:n||linear,e:l||(()=>0),t:0,cycle:t=>{if(o.l>0)o.l-=t,o.o[o.p]=o.a;else if(o.t=min(o.d,o.t+t),o.o[o.p]=o.f(o.t,o.a,o.b-o.a,o.d),o.t==o.d){o.e();let t=INTERPOLATIONS.indexOf(o);t>=0&&INTERPOLATIONS.splice(t,1)}}};INTERPOLATIONS.push(o)}),INTERPOLATIONS=[],castRay=((t,e,s,r)=>{let i,a=castAgainstHorizontal(t,e,s,r),n=castAgainstVertical(t,e,s,r);if(a)if(n){i=distP(t,e,a.x,a.y)<distP(t,e,n.x,n.y)?a:n}else i=a;else i=n;return distP(t,e,i.x,i.y)>r&&(i={x:t+cos(s)*r,y:e+sin(s)*r}),i}),castAgainstHorizontal=((t,e,s,r)=>{var i=sin(s)>0,a=40*~~(e/40)+(i?40:-1e-4),n=t+(a-e)/tan(s),l=i?40:-40,o=l/tan(s);return doCast(n,a,o,l,1,r)}),castAgainstVertical=((t,e,s,r)=>{var i=cos(s)>0,a=40*~~(t/40)+(i?40:-1e-4),n=e+(a-t)*tan(s),l=i?40:-40,o=l*tan(s);return doCast(a,n,l,o,0,r)}),doCast=((t,e,s,r,i,a)=>{let n=t,l=e;for(let o=0;distP(n,l,t,e)<a;o++){if(internalHasBlock(n,l)){let t=~~(n/40)+~~(l/40)*W.matrix.length;return{x:n,y:l,castType:i+"-"+t,blockId:t}}if(isOut(n,l))break;n+=s,l+=r}return{x:n,y:l,castType:""}}),hasBlock=((t,e,s=0)=>internalHasBlock(t,e)||internalHasBlock(t-s,e-s)||internalHasBlock(t-s,e+s)||internalHasBlock(t+s,e-s)||internalHasBlock(t+s,e+s)),internalHasBlock=((t,e)=>!isOut(t,e)&&G.level.definition.matrix[~~(e/40)][~~(t/40)]),isOut=((t,e)=>!between(0,t,40*G.level.definition.matrix[0].length-1)||!between(0,e,40*G.level.definition.matrix.length-1)),remove=((t,e)=>{let s=t.indexOf(e);s>=0&&t.splice(s,1)});class PointRenderable{constructor(t,e,s,r){this.x=t,this.y=e,this.radius=s,this.color=r}render(){R.fillStyle=this.color,fr(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}}let createCanvas=(t,e,s)=>{let r=document.createElement("canvas");return r.width=t,r.height=e,s(r.getContext("2d"),r)||r},createCanvasPattern=(t,e,s)=>{let r=createCanvas(t,e,s);return r.getContext("2d").createPattern(r,"repeat")};LEVELS=[{matrix:revertOptimizeMatrix(20,20,[[0,0,20,0],[0,1,0,19],[1,19,19,0],[4,4,1,0],[4,9,0,4],[5,5,1,0],[6,4,1,0],[7,15,0,2],[10,1,0,2],[10,13,0,2],[13,10,0,2],[14,7,3,0],[16,5,0,2],[19,1,0,18]]),spawn:[2,2]}];class Level{constructor(t){this.definition=t,this.index=LEVELS.indexOf(this.definition),this.bottomY=LEVELS.length-20*this.index*40,this.cyclables=[],this.renderables=[],this.player=new Player(40*(this.definition.spawn[1]+.5),40*(this.definition.spawn[0]+.5)),this.cyclables.push(this.player),this.renderables.push(this.player)}cycle(t){this.cyclables.forEach(e=>e.cycle(t))}render(){R.fillStyle="#fff",fr(0,0,800,800),R.fillStyle="#000";for(let t=0;t<20;t++)for(let e=0;e<20;e++)this.definition.matrix[t][e]&&fr(40*e,40*t,40,40);for(let t=0;t<20;t++)fr(0,40*t,800,1),fr(40*t,0,1,800);this.renderables.forEach(t=>t.render())}}class Player{constructor(t,e){this.x=t,this.y=e,this.previous={x:t,y:e},this.vX=this.vY=0}cycle(t){this.previous.x=this.x,this.previous.y=this.y,this.vY+=10*t;let e=0,s=0;down[37]&&(e=-1),down[39]&&(e=1),down[38]&&(s=-1),down[40]&&(s=1),this.x+=500*e*t,this.y+=500*s*t,this.readjust()}goToClosestAdjustment(t,e){let s,r=999;for(let i=0;i<e.length;i++){let a=dist(t,e[i]);a<r&&(s=e[i],r=a)}return s&&(this.x=s.x,this.y=s.y),s}toCellUnit(t){return~~(t/40)}allSnapAdjustments(){let t=this.x-15,e=this.x+15,s=this.y-15,r=this.y+15,i=this.toCellUnit(t),a=this.toCellUnit(e),n=this.toCellUnit(s),l=this.toCellUnit(r),o=hasBlock(t,s),h=hasBlock(e,s),c=hasBlock(t,r),f=hasBlock(e,r);if(!(o||h||c||f))return[];let d=[this.previous.x,this.x],u=[this.previous.y,this.y];for(let t=i;t<=a;t++)d.push(40*t+15,40*(t+1)-15-1e-4);for(let t=n;t<=l;t++)u.push(40*t+15,40*(t+1)-15-1e-4);return d.flatMap(t=>u.map(e=>({x:t,y:e}))).filter(t=>!hasBlock(t.x,t.y,15))}readjust(){let t=this.allSnapAdjustments();this.goToClosestAdjustment(this,t)}render(){wrap(()=>{translate(this.x,this.y),R.fillStyle="#f00",fr(-15,-15,30,30)}),this.allSnapAdjustments().forEach(t=>{R.strokeStyle="blue",strokeRect(t.x-15,t.y-15,30,30)})}}function SfxrParams(){this.setSettings=function(t){for(var e=0;e<24;e++)this[String.fromCharCode(97+e)]=t[e]||0;this.c<.01&&(this.c=.01);var s=this.b+this.c+this.e;if(s<.18){var r=.18/s;this.b*=r,this.c*=r,this.e*=r}}}function SfxrSynth(){var t,e,s,r,i,a,n,l,o,h,c,f;this._params=new SfxrParams,this.resetManglable=function(){var t=this._params;r=100/(t.f*t.f+.001),i=100/(t.g*t.g+.001),a=1-t.h*t.h*t.h*.01,n=-t.i*t.i*t.i*1e-6,t.a||(c=.5-t.n/2,f=5e-5*-t.o),l=1+t.l*t.l*(t.l>0?-.9:10),o=0,h=1==t.m?0:(1-t.m)*(1-t.m)*2e4+32},this.totalReset=function(){this.resetManglable();var r=this._params;return t=r.b*r.b*1e5,e=r.c*r.c*1e5,s=r.e*r.e*1e5+12,3*((t+e+s)/3|0)},this.synthWave=function(d,u){var y=this._params,x=1!=y.s||y.v,p=y.v*y.v*.1,v=1+3e-4*y.w,w=y.s*y.s*y.s*.1,m=1+1e-4*y.t,S=1!=y.s,g=y.x*y.x,b=y.g,k=y.q||y.r,P=y.r*y.r*y.r*.2,A=y.q*y.q*(y.q<0?-1020:1020),C=y.p?32+((1-y.p)*(1-y.p)*2e4|0):0,O=y.d,j=y.j/2,R=y.k*y.k*.01,E=y.a,B=t,L=1/t,N=1/e,I=1/s,T=5/(1+y.u*y.u*20)*(.01+w);T>.8&&(T=.8),T=1-T;for(var H,V,G,M,U,z,W=0,q=0,D=0,_=0,Y=0,F=0,X=0,J=0,K=0,Q=0,Z=0,$=new Array(1024),tt=new Array(32),et=$.length;et--;)$[et]=0;for(et=tt.length;et--;)tt[et]=rnd(-1,1);for(et=0;et<u;et++){if(W)return et;if(C&&++Q>=C&&(Q=0,this.resetManglable()),h&&++o>=h&&(h=0,r*=l),(r*=a+=n)>i&&(r=i,b>0&&(W=1)),V=r,j>0&&(V*=1+sin(Z+=R)*j),(V|=0)<8&&(V=8),E||((c+=f)<0?c=0:c>.5&&(c=.5)),++D>B)switch(D=0,++q){case 1:B=e;break;case 2:B=s}switch(q){case 0:_=D*L;break;case 1:_=1+2*(1-D*N)*O;break;case 2:_=1-D*I;break;case 3:_=0,W=1}k&&((G=0|(A+=P))<0?G=-G:G>1023&&(G=1023)),x&&v&&((p*=v)<1e-5?p=1e-5:p>.1&&(p=.1)),z=0;for(var st=8;st--;){if(++J>=V&&(J%=V,3==E))for(var rt=tt.length;rt--;)tt[rt]=rnd(-1,1);switch(E){case 0:U=J/V<c?.5:-.5;break;case 1:U=1-J/V*2;break;case 2:U=.225*(((U=1.27323954*(M=6.28318531*((M=J/V)>.5?M-1:M))+.405284735*M*M*(M<0?1:-1))<0?-1:1)*U*U-U)+U;break;case 3:U=tt[abs(32*J/V|0)]}x&&(H=X,(w*=m)<0?w=0:w>.1&&(w=.1),S?(F+=(U-X)*w,F*=T):(X=U,F=0),Y+=(X+=F)-H,U=Y*=1-p),k&&($[K%1024]=U,U+=$[(K-G+1024)%1024],K++),z+=U}z*=.125*_*g,d[et]=z>=1?32767:z<=-1?-32768:32767*z|0}return u}}var synth=new SfxrSynth,jsfxr=function(t){synth._params.setSettings(t);var e=synth.totalReset(),s=new Uint8Array(4*((e+1)/2|0)+44),r=2*synth.synthWave(new Uint16Array(s.buffer,44),e),i=new Uint32Array(s.buffer,0,44);i[0]=1179011410,i[1]=r+36,i[2]=1163280727,i[3]=544501094,i[4]=16,i[5]=65537,i[6]=44100,i[7]=88200,i[8]=1048578,i[9]=1635017060,i[10]=r,r+=44;for(var a=0,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l="data:audio/wav;base64,";a<r;a+=3){var o=s[a]<<16|s[a+1]<<8|s[a+2];l+=n[o>>18]+n[o>>12&63]+n[o>>6&63]+n[63&o]}var h=new Audio;return h.src=l,h};jumpSound=jsfxr([0,,.1434,,.1212,.4471,,.2511,,,,,,.0426,,,,,.8862,,,,,.5]),hitSound=jsfxr([1,,.0713,,.1467,.5483,,-.4465,,,,,,,,,,,1,,,.0639,,.5]),pickupSound=jsfxr([0,,.0224,.441,.1886,.6932,,,,,,,,,,,,,1,,,,,.5]),spawnSound=jsfxr([2,.28,.45,,.56,.35,,.4088,,,,,.03,.1557,,.5565,-.02,-.02,1,,,,,.5]),explosionSound=jsfxr([3,,.244,.6411,.2242,.7416,,-.2717,,,,.0171,.0346,,,,-.0305,.0244,1,,,.0275,-.0076,.5]),menuSound=jsfxr([0,,.1394,,.0864,.48,,,,,,,,.5326,,,,,1,,,.1,,.5]),saySound=jsfxr([2,.03,.1,.14,.25,.54,.3167,-.02,.3999,,.05,,,.1021,.0684,,.1287,-.1816,1,,,,,.46]),landSound=jsfxr([3,,.0118,.03,.1681,.565,,-.2343,,,,.26,.6855,,,,,,1,,,,,.2]),fixedSound=jsfxr([0,,.2098,,.4725,.3665,,.1895,,,,,,.0067,,.5437,,,1,,,,,.45]),w.down={},onkeydown=(t=>{w.down[t.keyCode]=1}),onkeyup=(t=>{w.down[t.keyCode]=0});class Game{constructor(){(G=this).clock=0,this.level=new Level(LEVELS[0])}cycle(t){this.level.cycle(t),this.render()}render(){R.fillStyle="#585a7f",fr(0,0,1600,800),wrap(()=>{translate(400,0),this.level.render()})}}onload=(()=>{onresize(),CANVAS.width=1600,CANVAS.height=800,R=CANVAS.getContext("2d"),Object.getOwnPropertyNames(canvasProto).forEach(t=>{R[t].call&&(w[t]=canvasProto[t].bind(R))}),console.log("LOADED"),new Game;let t=Date.now(),e=()=>{let s=Date.now(),r=(s-t)/1e3;t=s,G.cycle(r),requestAnimationFrame(e)};e()});</script>